
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <title>物联网学习系统 V1.1</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="~/content/dm/vendor/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="~/content/dm/vendor/font-awesome/css/font-awesome.min.css">
    <!-- Fontastic Custom icon font-->
    <link rel="stylesheet" href="~/content/dm/css/fontastic.css">
    <!-- Google fonts - Roboto -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
    <!-- jQuery Circle-->
    <link rel="stylesheet" href="~/content/dm/css/grasp_mobile_progress_circle-1.0.0.min.css">
    <!-- Custom Scrollbar-->
    <link rel="stylesheet" href="~/content/dm/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="~/content/dm/css/style.default.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="~/content/dm/css/custom.css">
    <!-- Favicon-->
    <link rel="shortcut icon" href="~/content/dm/img/favicon.ico">
    <!-- Tweaks for older IEs-->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->

    <link rel="stylesheet" href="~/content/layui/css/layui.css">
    <style>
        .side-navbar{width:220px;}
        .page {
            width:calc(100% - 220px);
        }
            .layui-tree-icon .layui-icon,
            .side-navbar span {
                color: #fff;
            }
        .layui-icon-subtraction{color:#Fff;}
        .layui-icon-addition:before {
            color: #fff;
        }
        .layui-tree-icon {
            color: #fff;
            line-height: 6px;
        }
        /*.layui-tree-entry{margin:10px 0;}*/
        .layui-tree-entry{height:auto;}
        .layui-tree-icon .layui-icon, .side-navbar span {
            letter-spacing:2px;
        }
        .side-navbar i{
            margin-right:0px;
        }
        .layui-tree-iconClick {
            margin:0 5px;
        }
        .layui-tree-line .layui-tree-entry:hover .layui-tree-txt {
            color: #33b35a !important;
        }
        .menuActive {
            color: #33b35a !important;
        }
    </style>
</head>
<body>
    <!-- Side Navbar -->
    <nav class="side-navbar" >
        <div class="side-navbar-wrapper" >
            <!-- Sidebar Header    -->
            <div class="sidenav-header d-flex align-items-center justify-content-center">
                <!-- User Info-->
                <div class="sidenav-header-inner text-center">
                    <img src="~/content/dm/img/avatar-11.jpg" alt="person" class="img-fluid rounded-circle">
                    <h2 class="h5">Administrator</h2><span>管理员</span>
                </div>
                <!-- Small Brand information, appears on minimized sidebar-->
                <div class="sidenav-header-logo"><a href="index.html" class="brand-small text-center"> <strong>学</strong><strong class="text-primary">习</strong></a></div>
            </div>
            <!-- Sidebar Navigation Menus-->
            
            <div id="test4" class="demo-tree" style="height:calc(100% - 123px); padding-bottom:50px;"></div>
        </div>
    </nav>

    <div class="page">
        <!-- navbar-->
        <header class="header">
            <nav class="navbar">
                <div class="container-fluid">
                    <div class="navbar-holder d-flex align-items-center justify-content-between">
                        <div class="navbar-header">
                            <a id="toggle-btn" href="#" class="menu-btn"><i class="icon-bars"> </i></a><a href="/default" class="navbar-brand">
                                <div class="brand-text d-none d-md-inline-block"><span>  物联网学习系统 </span> <strong class="text-primary"> 测试版 V1.1</strong></div>
                            </a>
                        </div>
                        <ul class="nav-menu list-unstyled d-flex flex-md-row align-items-md-center">
                            <!-- Notifications dropdown-->
                            <li class="nav-item dropdown">
                                <a id="notifications" rel="nofollow" data-target="#" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link"><i class="fa fa-bell"></i><span class="badge badge-warning">12</span></a>
                                <ul aria-labelledby="notifications" class="dropdown-menu">
                                    <li>
                                        <a rel="nofollow" href="#" class="dropdown-item">
                                            <div class="notification d-flex justify-content-between">
                                                <div class="notification-content"><i class="fa fa-envelope"></i>You have 6 new messages </div>
                                                <div class="notification-time"><small>4 minutes ago</small></div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a rel="nofollow" href="#" class="dropdown-item">
                                            <div class="notification d-flex justify-content-between">
                                                <div class="notification-content"><i class="fa fa-twitter"></i>You have 2 followers</div>
                                                <div class="notification-time"><small>4 minutes ago</small></div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a rel="nofollow" href="#" class="dropdown-item">
                                            <div class="notification d-flex justify-content-between">
                                                <div class="notification-content"><i class="fa fa-upload"></i>Server Rebooted</div>
                                                <div class="notification-time"><small>4 minutes ago</small></div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a rel="nofollow" href="#" class="dropdown-item">
                                            <div class="notification d-flex justify-content-between">
                                                <div class="notification-content"><i class="fa fa-twitter"></i>You have 2 followers</div>
                                                <div class="notification-time"><small>10 minutes ago</small></div>
                                            </div>
                                        </a>
                                    </li>
                                    <li><a rel="nofollow" href="#" class="dropdown-item all-notifications text-center"> <strong> <i class="fa fa-bell"></i>view all notifications                                            </strong></a></li>
                                </ul>
                            </li>
                            <!-- Messages dropdown-->
                            <li class="nav-item dropdown">
                                <a id="messages" rel="nofollow" data-target="#" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link"><i class="fa fa-envelope"></i><span class="badge badge-info">10</span></a>
                                <ul aria-labelledby="notifications" class="dropdown-menu">
                                    <li>
                                        <a rel="nofollow" href="#" class="dropdown-item d-flex">
                                            <div class="msg-profile"> <img src="~/content/dm/img/avatar-1.jpg" alt="..." class="img-fluid rounded-circle"></div>
                                            <div class="msg-body">
                                                <h3 class="h5">Jason Doe</h3><span>sent you a direct message</span><small>3 days ago at 7:58 pm - 10.06.2014</small>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a rel="nofollow" href="#" class="dropdown-item d-flex">
                                            <div class="msg-profile"> <img src="~/content/dm/img/avatar-2.jpg" alt="..." class="img-fluid rounded-circle"></div>
                                            <div class="msg-body">
                                                <h3 class="h5">Frank Williams</h3><span>sent you a direct message</span><small>3 days ago at 7:58 pm - 10.06.2014</small>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a rel="nofollow" href="#" class="dropdown-item d-flex">
                                            <div class="msg-profile"> <img src="~/content/dm/img/avatar-3.jpg" alt="..." class="img-fluid rounded-circle"></div>
                                            <div class="msg-body">
                                                <h3 class="h5">Ashley Wood</h3><span>sent you a direct message</span><small>3 days ago at 7:58 pm - 10.06.2014</small>
                                            </div>
                                        </a>
                                    </li>
                                    <li><a rel="nofollow" href="#" class="dropdown-item all-notifications text-center"> <strong> <i class="fa fa-envelope"></i>Read all messages    </strong></a></li>
                                </ul>
                            </li>
                            <!-- Languages dropdown    -->
                            <li class="nav-item dropdown">
                                <a id="languages" rel="nofollow" data-target="#" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link language dropdown-toggle"><img src="~/content/dm/img/flags/16/CN.png" alt="中文"><span class="d-none d-sm-inline-block">中文</span></a>
                                <ul aria-labelledby="languages" class="dropdown-menu">
                                    <li><a rel="nofollow" href="#" class="dropdown-item"> <img src="~/content/dm/img/flags/16/DE.png" alt="English" class="mr-2"><span>德语</span></a></li>
                                    <li><a rel="nofollow" href="#" class="dropdown-item"> <img src="~/content/dm/img/flags/16/FR.png" alt="English" class="mr-2"><span>法语</span></a></li>
                                </ul>
                            </li>
                            <!-- Log out-->
                            <li class="nav-item"><a href="/default/login" class="nav-link logout"> <span class="d-none d-sm-inline-block">退出</span><i class="fa fa-sign-out"></i></a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <section style="height: calc(100vh - 118px);">
            <iframe style="width:100%;height:100%;border:0;" src="/default/welcome" id="MainFrm" name="MainFrm"></iframe>
        </section>
        <footer class="main-footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12" style="text-align:center;">
                        <p>物联网  &copy; 2019-2020</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript files-->
    <script src="~/content/dm/vendor/jquery/jquery.min.js"></script>
    <script src="~/content/dm/vendor/popper.js/umd/popper.min.js"></script>
    <script src="~/content/dm/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="~/content/dm/js/grasp_mobile_progress_circle-1.0.0.min.js"></script>
    <script src="~/content/dm/vendor/jquery.cookie/jquery.cookie.js"></script>
    <script src="~/content/dm/vendor/chart.js/Chart.min.js"></script>
    <script src="~/content/dm/vendor/jquery-validation/jquery.validate.min.js"></script>
    <script src="~/content/dm/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script>
    <!-- Main File-->
    <script src="~/content/dm/js/front.js"></script>
    <script src="~/Content/layui/layui.js" charset="utf-8"></script>
    <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
    <script>

        //获取本地菜单json数据
        var json = null;
        $(document).ready(function () {
            $.ajax({
                url: '/content/menudata.json',
                async: false,
                success: function (data) {
                    //console.log(data);
                    json = data;
                }
            });
        });

        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util;
                
            

            //按钮事件
            util.event('lay-demo', {
                getChecked: function (othis) {
                    var checkedData = tree.getChecked('demoId1'); //获取选中节点的数据

                    layer.alert(JSON.stringify(checkedData), { shade: 0 });
                    console.log(checkedData);
                }
                , setChecked: function () {
                    tree.setChecked('demoId1', [12, 16]); //勾选指定节点
                }
                , reload: function () {
                    //重载实例
                    tree.reload('demoId1', {

                    });

                }
            });
            
            //手风琴模式
            tree.render({
                elem: '#test4'
                , data: json
                , accordion: true
                , click: function (obj) {
                    var data = obj.data;  //获取当前点击的节点数据
                    //console.log(data.target);
                    if (data.target == "_blank") {
                        //location.href = data.href;
                        window.open(data.href, "_blank");  
                    }
                    else
                        $("#MainFrm").attr("src", data.href);
                    //layer.msg('状态：' + obj.state + '<br>节点数据：' + JSON.stringify(data));
                }
            });
        });
    </script>
</body>
</html>

